# Design

Design goals:

- Users can build and customize in the world in many ways, there are only few restrictions (like environmental objects that must be demolished before the area can be customized).
- Visitors occupy the camp site for a temporary period (which is the main difference to other city builders, where residents are supposed to stay for as long as possible). Main tasks of the player includes:
  - Making the site attractive so that visitors consider staying at the site in the first place
  - Making the stay pleasant so that visitors are happy, spend more money, and are more likely to visit again in the future (though repeating customers are mostly simulated)
  - Making the site attractive to certain groups of visitors, some of which have distinct requirements for a good stay. The player has the option of choosing to only focus on one or a few groups, which would still make a successful site.
- Day-to-day tasks on the camp site are carried out by various employees, and the player is focused not on giving those employees tasks, but:
  - Making sure that enough workforce exists to deal with tasks of various types
  - Making sure that employees are happy (which makes it easier to employ more people)
  - "Upgrading" employees by training them into specialized roles that are more efficient at certain tasks
- There is utility management (water, electricity, garbage, etc.), but it's more basic than in most city builders in that most of the supply is external. The player is mostly tasked with properly connecting all places that require utilities, and not so much managing the supply of the utilities.

Basic gameplay loop is like any other micro-management game in the broad "city builder" genre:

- spend funds to construct a camping site that is attractive to visitors
- visitors arrive and are happy about their stay, providing you with funds
- spend the newly acquired funds to make the site even more attractive to visitors
- repeat

## Style

The world art style is a very low resolution (8-bit era) full color (16-bit era) pixel art look with coarse animations. The UI art style will be a relatively clean but rustic look (paper sheets, wood panels, typewriter documents and traditionally printed texts in sans-serif fonts).

## System design

CMP will consist of multiple primary systems that interact to create emergent game dynamics. Their current design and goals are outlined here.

### Employees, Jobs, Tasks, Skills

The employee system consists of the way that employees keep the camp site running. The main components are:

- Employees (obviously). People like visitors (and partially with similar properties), but special in that they fill jobs and execute tasks on the site. Main properties are:
  - Permanent properties: Skill levels in the different areas of expertise
  - Temporary properties: Exhaustion, hunger
- Tasks. Various temporary assignment to be executed by employees. Tasks have available employees assigned to them automatically. Tasks require skills in a certain area of expertise, and (with jobs) this decides which employees can even execute them and how well they will do (duration, potential for failure or mistakes, etc.). Tasks are mostly generated by other systems.
- Jobs. Each employee is assigned by the player to a job, which together with their skills determines what tasks they can execute. Jobs are different from tasks in that the player explicitly assigns all of them, and that they are always permanent. Some jobs are special in that the employees won't execute tasks, but provide other benefits to the camp site. These jobs are called management jobs.

The skills divide all jobs and tasks into different areas of expertise. Each employee starts with certain, randomly generated skill levels (the random distribution is decided by other factors, so that later in the game, new employees will likely start out with relatively high skill levels). Depending on the training they receive and the tasks and jobs they are assigned to, they will gain better values in certain skills. As mentioned above, certain tasks and jobs require certain skill types (only one each), and are done faster and with higher success rate by employees that have a higher value in the corresponding skill. Too low of a skill value can either mean that the employee can't do the job or task at all (the game rejects the assignment of the employee to the job, and won't select the employee for executing the task), or for tasks, that the employee has a higher likelihood of failing the task or causing a mistake.

The skills are:

- **Technical**: Corresponds to anything relating to a technical system, like repair tasks of all kind, a/v tech tasks. The technical jobs are mostly generic technician jobs that allow the employees to respond to any sort of technical task, and therefore technical skills are a focus of the early game. The technical management jobs appear later in the game and correspond to IT and overseeing roles for the other technical jobs.
- **Medical**: Corresponds to both medical jobs/tasks as well as life guard jobs, another skill need that is there from the start of the game but starts to rise dramatically with any added free-time activities, especially pools. This skill has a quirk in that it cannot rise with experience beyond normal levels, very high medical skill levels are specific to doctor employees. The corresponding doctor jobs can only be filled by such employees.
- **Artistry**: Corresponds to anything relating to stage performance, animators, and instructors. Tasks and jobs relating to artistry appear later on in the game, since they're mostly relating to secondary entertainment and free-time offerings of the camp site that the player focuses on later.
- **Business**: Corresponds to the multitude of business jobs that form the main body of management jobs, as well as a few non-management jobs like receptionists and event handling. Business skills are an increasing focus of the later game to scale the camp site and make it more efficient, and they're the outlier as the skill that is mostly required for management jobs, not tasks.
- **Fitness**: Corresponds both to security jobs at events and the camp site in general as well as free-time offerings relating to fitness and health. Like Artistry, this is a skill only required in the later game when free-time offerings become more important.

Overall, both Technical and Medical skills form the baseline skills that the player requires early on and consistently throughout the game since they keep the site running. Artistry and Fitness become relevant for entertainment and free-time later on. Business is relevant even later than that, and provides the management job hierarchy that make the existing, large site more efficient.

For employees that don't have management jobs, their benefit to the camp site is only expressed through tasks. Some examples for tasks include:

- Registering new visitors at the reception
- Cleaning up a pitch or accommodation after visitors left
- Fixing a broken pipe or electrical conduit
- Responding to a medical emergency
- Responding to an incident at a pool, like a drowning person
- Participating in a performance event, be it animator/stage artist, security, or a/v tech

A task is always temporary and ends after some period of time, never more than an in game day. A task has a defined outcome, which can be one of three things:

- **Success**. The normal outcome.
- **Failure**. The task is not completed, and no further consequences result. This is the normal outcome if success doesn't happen, and many low-stakes tasks can only fail, never result in a mistake.
- **Mistake**. The task is not only not completed, but also causes some negative effect. Depending on the exact negative effect, the task may be discarded since it can't be completed now.

For example, rescuing a drowning person from a pool can either result in (1) the person being rescued and them no longer being in danger, or (2) a rescue failure, so the person still being in danger, or (3) a mistake, the person almost drowning during the rescue, which now creates a medical task for helping them. (CMP *never* kills people. Noone can drown and die. This is a family-friendly game :3)

It should be noted that many basic tasks, like janitor and chauffer tasks, don't require any specific skill. They can be filled by various cheap low-skill employees. Additionally, all tasks that exist from the start of the game (basic repairing, receptionist) require very low skill levels and have a high chance of success.

As discussed, task have a skill category that they require proficiency in. They can have a specific lower bound for this category, if they are particularly difficult (such as medical tasks to be executed by a doctor), but all tasks have a recommended skill level that measures their difficulty. Successful completion of the task will result in the employee executing them increasing the corresponding skill level. The harder the task was for the employee (measured by the relative skill level required vs. what the employee had), the higher this reward. Even failure increases the skill level a little bit.

The duration of a task can depend on multiple things. Some tasks have a defined fixed period. Some task's duration depends on external factors, like the time (and distance) it takes for the chauffer to move the vehicle to the destination. For many basic tasks, the time the task takes for success is determined by the relative skill level of the employee in relation to the required skill level of the task, in that one skill category the task requires. For most tasks, if they do not succeed (the game determines this at the start of the task execution), the time until failure or mistake is shorter than the success time, which balances the severity of these events. (Especially mistakes happen relatively fast.) 

### Visitors

Visitors are people that visit the camp site for a limited period of time. Visitors can have all kinds of different properties, which determine what they do on the camp site, what accommodations they pick, and what the player needs to do to make them happy.

A visitor’s stay at the camp site follows these steps:

- The visitor is created with specific stats and a stay duration. Visitors are never generated alone, but as a visiting group that will occupy one accommodation. The accommodation type is picked based on the group archetype. If the camp site can receive reservations, this visitor group may be generated well in advance of their stay, otherwise generation happens right before the visitors arrive. If a reservating group was generated, the reservation is attempted to be registered at the camp site, which will then already inform the player (e.g. so they can build more accommodations if necessary, or cancel reservations that won’t be able to be fulfilled)
- On arrival, the visitor and its group go to the reception, where the camp site assigns them to a specific accommodation. If there is no accommodation of the required type available, this is the (latest) point where the group is rejected. Such an event will lower the popularity of the camp site with the visitor group archetype slightly.
- After arrival, and before departure, the visitors in the group pick activities to do based on their current state, the time of day, etc. Visitors can either pick solo activities independent of the group, or all visitors of a group can pick an activity together. Such a group activity can also be picked while one of the visitors in the group is towards the end of their solo activity. The activity tree of visitors therefore mainly consists of the states “Idle” and “Doing Activity”.
- Any activity can raise or lower the temporary properties of the visitors. If the happiness falls too far, the visitor may cancel their trip and leave immediately. For groups, this limit is taken as the average of all group visitor’s happiness.
- When the group leaves, they check out at the reception, at which point their accommodation is freed up. Depending on their final happiness state, the group may increase or decrease the popularity of the camp site with its archetype.

The visitor properties are split into permanent stats (unlike employee skills, they can actually never change) and temporary properties. The stats are:

- **Age**: This property is split into coarse categories: Child, Teenager, Young Adult, Adult, Senior. Age also determines some of the other properties, but it’s most important to determine what free-time activities a visitor is interested in and how a group is constituted.
- **Hardiness**: Visitors with higher hardiness are more used to basic camping without many amenities. This property most importantly determines acceptable accommodations, and what kind of sanitary conditions the visitor expects.
- **Fitness**: Visitors with higher fitness will traverse the site faster and won’t rely as much on transportation offerings. They are more likely to bring bikes (and not arrive by car) and use more fitness-oriented free-time activities, including pools.
- **Culinarity**: Visitors with higher culinarity expect restaurants of higher quality to be available, while those with lower culinarity will usually cook for themselves.

Group archetypes are the basic kinds of visitor groups. They determine how many visitors are in the group, with what property distribution, and what accommodation type a group can pick. The camp site has a popularity with each group archetype, which determines how many visitor groups of that archetype will visit the site. Higher popularity means both more frequent and more probable generation of that group.

The group archetypes are:

- **Party Group**: Low Hardiness and Fitness, higher culinarity. Group size is between 2 and 6, and all visitors in the group are either adults or young adults.
- **Fitness Group**: Like party group, but high fitness and relatively high hardiness, lower culinarity.
- **Camper Family**: High hardiness, medium and lower culinarity, medium fitness. Consists of two adults and one to four children, who can either be Child or Teenager age. Can also occasionally include one or two seniors.
- **Hotel Family**: Like camper family, but low hardiness, medium fitness, and high culinarity.
- **Fitness Couple**: 2 young adults or adults, high fitness, medium hardiness and culinarity.
- **Elderly Couple**: 2 seniors, low fitness, relatively low hardiness and relatively high culinarity.
- **Adult**: A single adult, with any distribution of properties.

### Units

CMP uses fictional units that don't really correlate to real-world units to make it easier to "invent" certain parameters without the appearance of unrealistic values. CMP is, after all, not a simulation and by using these units we make sure noone compares the quantities to real-world values.

- Length: **"Imaginary Tile Size", i**, the side length of one CMP world tile. One i corresponds to roughly 2-5 m in building scale and 1-2 m in human scale (since CMP people are "too large" in comparison to buildings). Correspondingly, area and volume units **i²** and **i³** respectively are used. Importantly, one tile has an area of exactly 1 i², which is commonly referred in the UI to specify tile counts as areas.
- Time: **Time unit, t**, the duration of 1/1440'th of a CMP day. This is equivalent to the displayed in-game minutes, with a normal game speed of 10t per real world second (i.e. roughly 2.5 real world minutes per in-game day).
- Speed: Derived as **i/t**. Dividing this value by 10 provides the speed in tiles per real world second (at normal game speed), which is why most speeds are given in multiples of 10.
- Volumetric flow: Derived as **i³/t**.
- Electricity: Energy in general is measured in **Energy, e**, where one e corresponds very roughly to 600 kJ (such that 1 e/t corresponds roughly to 1 kW). Correspondingly, power is measured derived as **e/t**, which for simplification purposes is also the unit for electric current.

The time system requires some additional discussion. As stated, one time unit t is equivalent to one minute of in-game time, since CMP runs a hour-minute clock always displayed to the user. The normal 24h-clock was chosen for simplicity purposes. Since normal game speed is 10t/s, to keep visual noise low, the clock advances by 10 "minutes"/t in a jump every second, meaning that the last digit of the clock is always 0. The normal game speed results in 144 seconds per CMP day (24 in-game hours, or 24 * 60 = 1440 t), 2 min 24s. CMP doesn't simulate changing seasons, therefore the game always has sunrise at 06:00 and sunset at 20:00, leading to 14 hours (840 t) of daylight. There is a conventional seven-day week affecting various activities (more visitors arrive and depart on weekends, and management employees are always free on weekends), but beyond that, there is no further time structure. Weeks serve as the most coarse-grained time unit, e.g. for reservations.

### Utilities

CMP has two primary utility systems, water and electricity, as well as secondary utilities, garbage and wastewater.

- **Water**: Water consumption is measured in i³/t (there is no water storage). Many buildings consume water, but in fact many only have a very small or no water consumption.
